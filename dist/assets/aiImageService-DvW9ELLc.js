class h{static generatePrompt(e,s){const o={kitchen:"Transform this exact kitchen layout into a beautiful, renovated space. Keep the same room dimensions, window placements, and basic layout, but completely update the cabinets, countertops, appliances, flooring, and lighting. Make it look like a professional renovation of this specific kitchen.",backyard:"Transform this exact backyard space into a beautiful outdoor living area. Keep the same yard dimensions and basic layout, but add professional landscaping, seating areas, and modern outdoor features that work with this specific space.",bathroom:"Transform this exact bathroom into a modern, spa-like space. Keep the same room dimensions and layout, but completely update the fixtures, tiles, vanity, and lighting to create a luxurious renovation of this specific bathroom.","living-room":"Transform this exact living room into a modern, stylish space. Keep the same room dimensions and layout, but completely update the furniture, lighting, paint, and decor to create a professionally designed version of this specific room."};let t=o[e]||o.kitchen;return s&&(t=`Transform this exact ${e} with ${s.prompt}. Keep the same room dimensions, layout, and architectural features, but completely renovate it with this design aesthetic. The result should look like a professional renovation of this specific space.`),t+=" IMPORTANT: Keep the exact same room layout, dimensions, window locations, and architectural features. Only change the finishes, fixtures, furniture, and design elements. The result should be photorealistic, high quality, professional interior design photography style.",t}static async generateDesign(e){const s=Date.now();try{const o=URL.createObjectURL(e.imageFile);return await this.generateViaBackend(e,o,s)}catch(o){console.error("AI Image Generation Error:",o);const t=URL.createObjectURL(e.imageFile);return this.simulateAIProcessing(e,t,s)}}static async generateViaBackend(e,s,o){try{console.log("ðŸŽ¨ Sending image to backend for AI processing...");const t=await this.fileToBase64(e.imageFile),a=e.prompt||this.generatePrompt(e.roomType,e.selectedStyle),i=await(await fetch("/api/generate-ai-image",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageData:t,prompt:a,roomType:e.roomType,selectedStyle:e.selectedStyle})})).json();if(!i.success)throw new Error(i.message||"AI generation failed");const n=Date.now()-o;return{originalImage:s,generatedImage:i.generatedImageUrl,prompt:a,processingTime:n}}catch(t){return console.error("Backend AI generation failed:",t),this.simulateAIProcessing(e,s,o)}}static fileToBase64(e){return new Promise((s,o)=>{const t=new FileReader;t.onload=()=>s(t.result),t.onerror=o,t.readAsDataURL(e)})}static async simulateAIProcessing(e,s,o){var c;await new Promise(l=>setTimeout(l,3e3));const t={kitchen:{"modern-minimalist":"https://images.pexels.com/photos/1080721/pexels-photo-1080721.jpeg?auto=compress&cs=tinysrgb&w=1024","farmhouse-chic":"https://images.pexels.com/photos/1571460/pexels-photo-1571460.jpeg?auto=compress&cs=tinysrgb&w=1024",transitional:"https://images.pexels.com/photos/2089698/pexels-photo-2089698.jpeg?auto=compress&cs=tinysrgb&w=1024","coastal-new-england":"https://images.pexels.com/photos/2724749/pexels-photo-2724749.jpeg?auto=compress&cs=tinysrgb&w=1024","contemporary-luxe":"https://images.pexels.com/photos/2062426/pexels-photo-2062426.jpeg?auto=compress&cs=tinysrgb&w=1024",default:"https://images.pexels.com/photos/1080721/pexels-photo-1080721.jpeg?auto=compress&cs=tinysrgb&w=1024"},backyard:{"modern-zen":"https://images.pexels.com/photos/1396122/pexels-photo-1396122.jpeg?auto=compress&cs=tinysrgb&w=1024","mediterranean-oasis":"https://images.pexels.com/photos/1643383/pexels-photo-1643383.jpeg?auto=compress&cs=tinysrgb&w=1024","contemporary-outdoor":"https://images.pexels.com/photos/1029599/pexels-photo-1029599.jpeg?auto=compress&cs=tinysrgb&w=1024",default:"https://images.pexels.com/photos/1396122/pexels-photo-1396122.jpeg?auto=compress&cs=tinysrgb&w=1024"}},a=t[e.roomType]||t.kitchen,r=((c=e.selectedStyle)==null?void 0:c.id)||"default",i=a[r]||a.default,n=this.generatePrompt(e.roomType,e.selectedStyle),p=Date.now()-o;return{originalImage:s,generatedImage:i,prompt:n,processingTime:p}}}export{h as AIImageService};
